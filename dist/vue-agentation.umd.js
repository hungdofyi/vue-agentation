(function(x,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(x=typeof globalThis<"u"?globalThis:x||self,e(x.VueAgentation={},x.Vue))})(this,(function(x,e){"use strict";const ae={single:{primary:"#3b82f6",primaryHover:"#2563eb",markerShape:"circle",borderStyle:"solid"},group:{primary:"#f97316",primaryHover:"#ea580c",markerShape:"diamond",borderStyle:"dashed"}},Te=["aria-label"],Ve={class:"agentation-popup__header"},Le={class:"agentation-popup__header-content"},Pe={class:"agentation-popup__header-title"},Ie={key:0,class:"agentation-popup__header-selected"},De={class:"agentation-popup__body"},ze={key:0,style:{"margin-top":"0.5rem"}},Fe={key:0,class:"agentation-popup__styles-pre"},He={class:"agentation-popup__footer"},qe={class:"agentation-popup__actions"},me=e.defineComponent({__name:"AnnotationPopup",props:{element:{},x:{},y:{},selectedText:{},initialValue:{default:""},submitLabel:{default:"Add"},accentColor:{default:"#3b82f6"},dark:{type:Boolean,default:!1},computedStyles:{},isMultiSelect:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(t,{expose:n,emit:o}){const i=e.computed(()=>t.isMultiSelect?ae.group.primary:t.accentColor),r=o,u=e.ref(t.initialValue),p=e.ref(null),C=e.ref(!1),w=e.ref(!1),N=e.ref("initial"),H=e.computed(()=>{let V=t.x,D=t.y+20;return typeof window<"u"&&(V+320>window.innerWidth-16&&(V=window.innerWidth-320-16),V<16&&(V=16),D+200>window.innerHeight-16&&(D=t.y-200-10),D<16&&(D=16)),{left:`${V}px`,top:`${D}px`}});function q(){const s=u.value.trim();if(!s){P();return}r("submit",s)}function j(){N.value="exit",setTimeout(()=>{r("cancel")},150)}function P(){C.value=!0,setTimeout(()=>{C.value=!1},500)}function _(s){s.key==="Enter"&&(s.metaKey||s.ctrlKey)?(s.preventDefault(),q()):s.key==="Escape"&&(s.preventDefault(),j())}e.onMounted(()=>{N.value="enter",e.nextTick(()=>{var s;N.value="entered",(s=p.value)==null||s.focus()})});function M(s){s.key==="Escape"&&j()}return e.onMounted(()=>{document.addEventListener("keydown",M)}),e.onUnmounted(()=>{document.removeEventListener("keydown",M)}),n({shake:P}),(s,E)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["agentation-popup",[t.dark?"agentation-popup--dark":"",C.value&&"agentation-animate-shake",N.value==="initial"&&"agentation-popup--entering",N.value==="enter"&&"agentation-popup--entering",N.value==="entered"&&"agentation-popup--entered",N.value==="exit"&&"agentation-popup--exiting"]]),style:e.normalizeStyle(H.value),"data-agentation-ignore":"",role:"dialog","aria-modal":"true","aria-label":`Add annotation for ${t.element}`},[e.createElementVNode("div",Ve,[e.createElementVNode("div",Le,[e.createElementVNode("div",{class:e.normalizeClass(["agentation-popup__header-dot",t.isMultiSelect&&"agentation-popup__header-dot--diamond"]),style:e.normalizeStyle({backgroundColor:i.value})},null,6),e.createElementVNode("span",Pe,e.toDisplayString(t.element),1)]),t.selectedText?(e.openBlock(),e.createElementBlock("p",Ie,' "'+e.toDisplayString(t.selectedText)+'" ',1)):e.createCommentVNode("",!0)]),e.createElementVNode("div",De,[e.withDirectives(e.createElementVNode("textarea",{ref_key:"textareaRef",ref:p,"onUpdate:modelValue":E[0]||(E[0]=T=>u.value=T),class:"agentation-popup__textarea",placeholder:"Add your comment...",onKeydown:_},null,544),[[e.vModelText,u.value]]),t.computedStyles?(e.openBlock(),e.createElementBlock("div",ze,[e.createElementVNode("button",{type:"button",class:"agentation-popup__styles-toggle",onClick:E[1]||(E[1]=T=>w.value=!w.value)},[(e.openBlock(),e.createElementBlock("svg",{class:e.normalizeClass(["agentation-popup__styles-icon",w.value&&"agentation-popup__styles-icon--open"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...E[2]||(E[2]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2)),E[3]||(E[3]=e.createTextVNode(" Computed styles ",-1))]),w.value?(e.openBlock(),e.createElementBlock("pre",Fe,e.toDisplayString(t.computedStyles),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]),e.createElementVNode("div",He,[E[4]||(E[4]=e.createElementVNode("span",{class:"agentation-popup__shortcut"},[e.createElementVNode("kbd",{class:"agentation-popup__kbd"},"⌘"),e.createTextVNode(" + "),e.createElementVNode("kbd",{class:"agentation-popup__kbd"},"Enter"),e.createTextVNode(" to submit ")],-1)),e.createElementVNode("div",qe,[e.createElementVNode("button",{type:"button",class:"agentation-popup__btn agentation-popup__btn--cancel",onClick:j}," Cancel "),e.createElementVNode("button",{type:"button",class:"agentation-popup__btn agentation-popup__btn--submit",style:e.normalizeStyle({backgroundColor:i.value}),onClick:q},e.toDisplayString(t.submitLabel),5)])])],14,Te))}}),je={class:"agentation-marker__tooltip-header"},Ye={class:"agentation-marker__tooltip-content"},Oe={class:"agentation-marker__tooltip-title"},We={class:"agentation-marker__tooltip-path"},Re={class:"agentation-marker__tooltip-actions"},Ue={class:"agentation-marker__tooltip-body"},Ke={class:"agentation-marker__tooltip-comment"},Xe={key:0,class:"agentation-marker__tooltip-selected-text"},Ge={class:"agentation-marker__tooltip-footer"},re=((t,n)=>{const o=t.__vccOpts||t;for(const[i,r]of n)o[i]=r;return o})(e.defineComponent({__name:"AnnotationMarker",props:{annotation:{},index:{},dark:{type:Boolean,default:!1},accentColor:{default:"#3b82f6"},isHovered:{type:Boolean,default:!1}},emits:["click","delete","edit","mouseenter","mouseleave"],setup(t,{emit:n}){const o=e.computed(()=>t.annotation.isMultiSelect===!0),i=e.computed(()=>o.value?ae.group.primary:t.accentColor),r=n,u=e.ref(!1),p=e.ref("initial"),C=e.computed(()=>{const _={left:`${t.annotation.x}%`};return t.annotation.isFixed?_.top=`${t.annotation.y}px`:_.top=`${t.annotation.y}px`,_}),w=e.computed(()=>t.annotation.x>70?"left":"right");function N(_){_.stopPropagation(),r("click",t.annotation)}function H(_){_.stopPropagation(),p.value="exit",setTimeout(()=>{r("delete",t.annotation)},200)}function q(_){_.stopPropagation(),r("edit",t.annotation)}function j(){u.value=!0,r("mouseenter",t.annotation)}function P(){u.value=!1,r("mouseleave",t.annotation)}return e.onMounted(()=>{p.value="enter",requestAnimationFrame(()=>{requestAnimationFrame(()=>{p.value="entered"})})}),(_,M)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["agentation-marker",[t.annotation.isFixed?"agentation-marker--fixed":"agentation-marker--absolute",o.value&&"agentation-marker--diamond",p.value==="initial"&&"agentation-marker--entering",p.value==="enter"&&"agentation-marker--entering",p.value==="entered"&&"agentation-marker--entered",p.value==="exit"&&"agentation-marker--exiting"]]),style:e.normalizeStyle(C.value),"data-agentation-ignore":"",onMouseenter:j,onMouseleave:P,onClick:N},[e.createElementVNode("div",{class:e.normalizeClass(["agentation-marker__dot",[t.isHovered&&"agentation-marker__dot--hovered"]]),style:e.normalizeStyle({backgroundColor:i.value})},[e.createElementVNode("span",{class:e.normalizeClass(o.value&&"agentation-marker__dot-content")},e.toDisplayString(t.index+1),3),e.createElementVNode("div",{class:"agentation-marker__ping agentation-animate-ping",style:e.normalizeStyle({backgroundColor:i.value})},null,4)],6),e.createVNode(e.Transition,{"enter-active-class":"agentation-transition-enter-active","enter-from-class":"agentation-transition-enter","enter-to-class":"agentation-transition-enter-to","leave-active-class":"agentation-transition-leave-active","leave-from-class":"agentation-transition-leave","leave-to-class":"agentation-transition-leave-to"},{default:e.withCtx(()=>[u.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["agentation-marker__tooltip",[t.dark?"agentation-marker__tooltip--dark":"",w.value==="left"?"agentation-marker__tooltip--left":"agentation-marker__tooltip--right"]]),onClick:M[0]||(M[0]=e.withModifiers(()=>{},["stop"]))},[e.createElementVNode("div",je,[e.createElementVNode("div",Ye,[e.createElementVNode("span",Oe,e.toDisplayString(t.annotation.element),1),e.createElementVNode("p",We,e.toDisplayString(t.annotation.elementPath),1)]),e.createElementVNode("div",Re,[e.createElementVNode("button",{type:"button",class:"agentation-marker__tooltip-action",title:"Edit annotation",onClick:e.withModifiers(q,["stop"])},[...M[1]||(M[1]=[e.createElementVNode("svg",{class:"agentation-marker__tooltip-action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])]),e.createElementVNode("button",{type:"button",class:"agentation-marker__tooltip-action",title:"Delete annotation",onClick:H},[...M[2]||(M[2]=[e.createElementVNode("svg",{class:"agentation-marker__tooltip-action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])])]),e.createElementVNode("div",Ue,[e.createElementVNode("p",Ke,e.toDisplayString(t.annotation.comment),1),t.annotation.selectedText?(e.openBlock(),e.createElementBlock("p",Xe,' "'+e.toDisplayString(t.annotation.selectedText)+'" ',1)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Ge,e.toDisplayString(new Date(t.annotation.timestamp).toLocaleString()),1)],2)):e.createCommentVNode("",!0)]),_:1})],38))}}),[["__scopeId","data-v-fcfdd06d"]]),Ze="agentation-annotations-",fe="agentation-settings",Je=7;function te(t){return`${Ze}${t}`}function ne(){if(typeof window>"u")return"/";const t=window.location.hash;return t&&t.startsWith("#/")?t.slice(1):window.location.pathname}function se(t){if(typeof window>"u")return[];try{const n=localStorage.getItem(te(t));if(!n)return[];const o=JSON.parse(n),i=Date.now()-Je*24*60*60*1e3;return o.filter(r=>!r.timestamp||r.timestamp>i)}catch{return[]}}function oe(t,n){if(!(typeof window>"u"))try{localStorage.setItem(te(t),JSON.stringify(n))}catch{}}function pe(t){if(!(typeof window>"u"))try{localStorage.removeItem(te(t))}catch{}}function Qe(){if(typeof window>"u")return null;try{const t=localStorage.getItem(fe);return t?JSON.parse(t):null}catch{return null}}function et(t){if(!(typeof window>"u"))try{localStorage.setItem(fe,JSON.stringify(t))}catch{}}function he(){if(typeof window>"u")return null;try{const t=localStorage.getItem("agentation-theme");return t==="light"||t==="dark"?t:null}catch{return null}}function ce(t){if(!(typeof window>"u"))try{localStorage.setItem("agentation-theme",t)}catch{}}let ie=null;function tt(){const t=e.ref([]),n=e.ref(null),o=e.ref(null),i=e.ref("");function r(s){i.value=s,t.value=se(s)}function u(s){i.value=s,t.value=se(s),n.value=null,o.value=null}function p(s,E){const T={id:crypto.randomUUID(),x:s.x,y:s.y,comment:E,element:s.element,elementPath:s.elementPath,timestamp:Date.now(),selectedText:s.selectedText,boundingBox:s.boundingBox,nearbyText:s.nearbyText,cssClasses:s.cssClasses,nearbyElements:s.nearbyElements,computedStyles:s.computedStyles,fullPath:s.fullPath,accessibility:s.accessibility,isFixed:s.isFixed,isMultiSelect:s.isMultiSelect,elements:s.elements,groupBoundingBox:s.groupBoundingBox,totalElementCount:s.totalElementCount};return t.value=[...t.value,T],oe(i.value,t.value),n.value=null,T}function C(s){const E=t.value.find(T=>T.id===s);return E?(t.value=t.value.filter(T=>T.id!==s),oe(i.value,t.value),E):null}function w(s,E){const T=t.value.findIndex(D=>D.id===s);if(T===-1)return null;const V={...t.value[T],comment:E};return t.value=[...t.value.slice(0,T),V,...t.value.slice(T+1)],oe(i.value,t.value),o.value=null,V}function N(){t.value=[],pe(i.value)}function H(s){n.value=s}function q(s){o.value=s}function j(s){return t.value.find(E=>E.id===s)}function P(s){return t.value.findIndex(E=>E.id===s)}const _=e.computed(()=>t.value.length),M=e.computed(()=>t.value.length===0);return{annotations:e.readonly(t),pendingAnnotation:e.readonly(n),editingAnnotationId:e.readonly(o),count:_,isEmpty:M,initialize:r,switchPath:u,add:p,remove:C,update:w,clear:N,setPending:H,setEditing:q,getById:j,getIndex:P}}function ge(){return ie||(ie=tt()),ie}function nt(){ie=null}function ye(t,n=3){const o=[];let i=t,r=0;for(;i&&i!==document.body&&r<n;){let u=i.tagName.toLowerCase();if(i.id)u+=`#${i.id}`;else if(i.classList.length>0){const p=Array.from(i.classList).find(C=>!C.match(/^_/)&&!C.match(/[A-Za-z]+_[a-z0-9]{5,}/));p&&(u+=`.${p}`)}o.unshift(u),i=i.parentElement,r++}return o.join(" > ")}function xe(t){const n=[];let o=t;for(;o&&o!==document.documentElement;){let i=o.tagName.toLowerCase();if(o.id)i+=`#${o.id}`;else{const r=o.parentElement;if(r){const u=Array.from(r.children).filter(p=>p.tagName===o.tagName);if(u.length>1){const p=u.indexOf(o)+1;i+=`:nth-of-type(${p})`}}}n.unshift(i),o=o.parentElement}return n.join(" > ")}function ee(t){var i,r,u,p,C,w,N,H,q,j,P,_,M,s,E,T,V,D,O,Y,K,W,R,G,I,U;const n=ye(t),o=t.tagName.toLowerCase();if(t instanceof SVGElement||t.closest("svg")){const l=t.closest("svg"),g=(i=l==null?void 0:l.querySelector("title"))==null?void 0:i.textContent,L=l==null?void 0:l.getAttribute("aria-label");return{name:g||L||"SVG graphic",path:n}}if(o==="button"||t.getAttribute("role")==="button")return{name:`Button: "${((r=t.textContent)==null?void 0:r.trim().slice(0,30))||t.getAttribute("aria-label")||"Button"}"`,path:n};if(o==="a")return{name:`Link: "${((u=t.textContent)==null?void 0:u.trim().slice(0,30))||t.getAttribute("aria-label")||"Link"}"`,path:n};if(o==="input"||o==="textarea"||o==="select"){if(t.id)return{name:`${o}#${t.id}`,path:n};if(t.classList.length>0){const f=Array.from(t.classList).filter(y=>!(y.match(/^_[a-zA-Z0-9]+$/)||y.match(/[A-Za-z]+_[a-z0-9]{5,}$/)));if(f.length>0){const y=f.slice(0,2).join(".");return{name:`${o}.${y}`,path:n}}}const l=t.id?document.querySelector(`label[for="${t.id}"]`):null,g=(p=l==null?void 0:l.textContent)==null?void 0:p.trim(),L=t.getAttribute("aria-label"),a=t.getAttribute("placeholder"),c=t.getAttribute("name"),h=o==="select"?"select":o==="textarea"?"textarea":t.type||"text",b=g||L||a||c;return b?{name:`${o}[${h}]: "${b.slice(0,30)}"`,path:n}:{name:o==="input"?`${o}[${h}]`:o,path:n}}if(/^h[1-6]$/.test(o)){const l=(C=t.textContent)==null?void 0:C.trim().slice(0,40);return{name:l?`${o}: "${l}"`:o,path:n}}if(o==="p"){const l=(w=t.textContent)==null?void 0:w.trim();return l&&l.length>0?{name:`Paragraph: "${l.slice(0,40)+(l.length>40?"...":"")}"`,path:n}:{name:"Paragraph",path:n}}if(o==="img"){const l=t.alt;return{name:l?`Image: "${l}"`:"Image",path:n}}if(o==="label"){const l=t.getAttribute("for"),g=(N=t.textContent)==null?void 0:N.trim().slice(0,30);return l?{name:`Label[for="${l}"]: "${g||""}"`,path:n}:{name:g?`Label: "${g}"`:"Label",path:n}}if(o==="table"){const l=(q=(H=t.querySelector("caption"))==null?void 0:H.textContent)==null?void 0:q.trim().slice(0,30),g=t.getAttribute("aria-label");return{name:l||g?`Table: "${l||g}"`:"Table",path:n}}if(o==="thead")return{name:"Table header",path:n};if(o==="tbody")return{name:"Table body",path:n};if(o==="tfoot")return{name:"Table footer",path:n};if(o==="tr"){const l=t.rowIndex;return{name:`Table row ${l>=0?`#${l+1}`:""}`,path:n}}if(o==="th"){const l=(j=t.textContent)==null?void 0:j.trim().slice(0,25);return{name:l?`Table header: "${l}"`:"Table header cell",path:n}}if(o==="td"){const l=(P=t.textContent)==null?void 0:P.trim().slice(0,25);return{name:l?`Table cell: "${l}"`:"Table cell",path:n}}if(o==="form"){const l=t.getAttribute("name")||t.getAttribute("id"),g=t.getAttribute("action");return l?{name:`Form: "${l}"`,path:n}:g?{name:`Form → ${g.slice(0,30)}`,path:n}:{name:"Form",path:n}}if(o==="fieldset"){const l=(M=(_=t.querySelector("legend"))==null?void 0:_.textContent)==null?void 0:M.trim().slice(0,30);return{name:l?`Fieldset: "${l}"`:"Fieldset",path:n}}if(o==="legend"){const l=(s=t.textContent)==null?void 0:s.trim().slice(0,30);return{name:l?`Legend: "${l}"`:"Legend",path:n}}if(o==="video"){const l=t.src||((E=t.querySelector("source"))==null?void 0:E.src);return{name:l?`Video: ${((T=l.split("/").pop())==null?void 0:T.slice(0,25))||"video"}`:"Video",path:n}}if(o==="audio"){const l=t.src||((V=t.querySelector("source"))==null?void 0:V.src);return{name:l?`Audio: ${((D=l.split("/").pop())==null?void 0:D.slice(0,25))||"audio"}`:"Audio",path:n}}if(o==="iframe"){const l=t.getAttribute("title"),g=t.src;if(l)return{name:`Iframe: "${l}"`,path:n};if(g)try{return{name:`Iframe: ${new URL(g).hostname}`,path:n}}catch{return{name:"Iframe",path:n}}return{name:"Iframe",path:n}}if(o==="code"){const l=t.parentElement,g=(l==null?void 0:l.tagName.toLowerCase())==="pre",L=(O=t.textContent)==null?void 0:O.trim().slice(0,30);return{name:g?"Code block":L?`Code: "${L}"`:"Inline code",path:n}}if(o==="pre")return{name:t.querySelector("code")?"Code block":"Preformatted text",path:n};if(o==="dialog"){const l=t.getAttribute("aria-label")||t.getAttribute("aria-labelledby"),L=t.open?" (open)":"";return{name:l?`Dialog: "${l}"${L}`:`Dialog${L}`,path:n}}if(o==="progress"){const l=t.value,g=t.max;return{name:`Progress: ${Math.round(l/g*100)}%`,path:n}}if(o==="meter")return{name:`Meter: ${t.value}`,path:n};if(o==="canvas"){const l=t.getAttribute("aria-label");return{name:l?`Canvas: "${l}"`:"Canvas",path:n}}if(o==="figure"){const l=(K=(Y=t.querySelector("figcaption"))==null?void 0:Y.textContent)==null?void 0:K.trim().slice(0,30);return{name:l?`Figure: "${l}"`:"Figure",path:n}}if(o==="figcaption"){const l=(W=t.textContent)==null?void 0:W.trim().slice(0,30);return{name:l?`Caption: "${l}"`:"Figure caption",path:n}}if(o==="blockquote"){const l=t.getAttribute("cite"),g=(R=t.textContent)==null?void 0:R.trim().slice(0,30);return l?{name:`Blockquote from ${l}`,path:n}:{name:g?`Blockquote: "${g}..."`:"Blockquote",path:n}}if(o==="ul")return{name:`Unordered list (${t.querySelectorAll(":scope > li").length} items)`,path:n};if(o==="ol"){const l=t.querySelectorAll(":scope > li").length,g=t.start||1;return{name:`Ordered list (${l} items, starts at ${g})`,path:n}}if(o==="li"){const l=(G=t.textContent)==null?void 0:G.trim().slice(0,25);return{name:l?`List item: "${l}"`:"List item",path:n}}if(o==="dl")return{name:"Definition list",path:n};if(o==="dt"){const l=(I=t.textContent)==null?void 0:I.trim().slice(0,25);return{name:l?`Term: "${l}"`:"Definition term",path:n}}if(o==="dd"){const l=(U=t.textContent)==null?void 0:U.trim().slice(0,25);return{name:l?`Definition: "${l}"`:"Definition",path:n}}if(t.classList.length>0){const l=Array.from(t.classList).filter(g=>!(g.match(/^_[a-zA-Z0-9]+$/)||g.match(/[A-Za-z]+_[a-z0-9]{5,}$/)));if(l.length>0){const g=l.slice(0,3).join(".");return{name:`${o}.${g}`,path:n}}}if(["nav","header","footer","main","section","article"].includes(o)){const l=t.getAttribute("aria-label");if(l)return{name:`${o}: "${l}"`,path:n}}return{name:o,path:n}}function ot(t){var i;const n=t.tagName.toLowerCase();if(t instanceof SVGElement||t.closest("svg"))return"icon";if(n==="button"||t.getAttribute("role")==="button")return"button";const o=((i=t.className)==null?void 0:i.toString())||"";return o.includes("spinner")||o.includes("loader")||o.includes("loading")?"spinner":n}function be(t){var u,p,C;const n=[],o=t.previousElementSibling;if(o){const w=(u=o.textContent)==null?void 0:u.trim();w&&w.length<100&&n.push(`[prev]: ${w.slice(0,50)}`)}const i=(p=t.textContent)==null?void 0:p.trim();i&&i.length<200&&n.push(i.slice(0,80));const r=t.nextElementSibling;if(r){const w=(C=r.textContent)==null?void 0:C.trim();w&&w.length<100&&n.push(`[next]: ${w.slice(0,50)}`)}return n.join(" | ")}function we(t){const n=[],o=t.parentElement;o&&o!==document.body&&n.push(`parent: ${o.tagName.toLowerCase()}`);const i=t.previousElementSibling;i&&n.push(`prev: ${i.tagName.toLowerCase()}`);const r=t.nextElementSibling;r&&n.push(`next: ${r.tagName.toLowerCase()}`);const u=t.children.length;return u>0&&n.push(`children: ${u}`),n.join(", ")}function ke(t){return!t.classList||t.classList.length===0?"":Array.from(t.classList).filter(n=>!(n.match(/^_[a-zA-Z0-9]+$/)||n.match(/[A-Za-z]+_[a-z0-9]{5,}$/))).join(" ")}function Ee(t){const n=window.getComputedStyle(t),o=t.tagName.toLowerCase(),i=[];return i.push(`display: ${n.display}`),i.push(`position: ${n.position}`),["p","span","h1","h2","h3","h4","h5","h6","a","button"].includes(o)&&(i.push(`font-size: ${n.fontSize}`),i.push(`font-weight: ${n.fontWeight}`),i.push(`color: ${n.color}`),i.push(`line-height: ${n.lineHeight}`)),["div","section","article","main","nav","header","footer"].includes(o)&&(i.push(`width: ${n.width}`),i.push(`height: ${n.height}`),i.push(`padding: ${n.padding}`),i.push(`margin: ${n.margin}`),(n.display==="flex"||n.display==="inline-flex")&&(i.push(`flex-direction: ${n.flexDirection}`),i.push(`justify-content: ${n.justifyContent}`),i.push(`align-items: ${n.alignItems}`),i.push(`gap: ${n.gap}`)),(n.display==="grid"||n.display==="inline-grid")&&(i.push(`grid-template-columns: ${n.gridTemplateColumns}`),i.push(`grid-template-rows: ${n.gridTemplateRows}`),i.push(`gap: ${n.gap}`))),n.backgroundColor!=="rgba(0, 0, 0, 0)"&&i.push(`background-color: ${n.backgroundColor}`),n.borderWidth!=="0px"&&i.push(`border: ${n.border}`),n.borderRadius!=="0px"&&i.push(`border-radius: ${n.borderRadius}`),i.join("; ")}function it(t){const n=window.getComputedStyle(t);return["display","position","top","right","bottom","left","width","height","min-width","min-height","max-width","max-height","padding","margin","border","border-radius","background","background-color","color","font-family","font-size","font-weight","line-height","text-align","flex-direction","justify-content","align-items","gap","grid-template-columns","grid-template-rows","overflow","z-index","opacity","transform","transition","animation"].map(i=>{const r=n.getPropertyValue(i);return r&&r!=="none"&&r!=="normal"&&r!=="auto"?`${i}: ${r}`:null}).filter(Boolean).join("; ")}function $e(t){const n=[],o=t.getAttribute("role");o&&n.push(`role="${o}"`);const i=Array.from(t.attributes).filter(p=>p.name.startsWith("aria-")).map(p=>`${p.name}="${p.value}"`).join(" ");i&&n.push(i);const r=t.getAttribute("tabindex");return r!==null&&n.push(`tabindex="${r}"`),["a","button","input","textarea","select"].includes(t.tagName.toLowerCase())&&n.push("focusable"),n.join(" ")}function Ce(t){let n=t;for(;n&&n!==document.body;){const o=window.getComputedStyle(n).position;if(o==="fixed"||o==="sticky")return!0;n=n.parentElement}return!1}function Se(t){const n=e.ref(!1),o=e.ref(null),i=e.ref(null),r=e.ref(null),u=e.ref(null),p=e.ref(null),C=e.ref(!1),w=e.ref(null),N=e.ref([]),H=e.ref(null),q=e.computed(()=>C.value&&w.value!==null),j="[data-agentation-ignore]";function P(a){return!!(a.closest(j)||a===document.body||a===document.documentElement)}function _(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)}function M(a){return["HTML","BODY","HEAD","SCRIPT","STYLE","LINK","META","NOSCRIPT"].includes(a.tagName)}function s(a){const c=window.innerWidth,h=window.innerHeight;return a.width>=c*.8&&a.height>=h*.8}function E(a,c){const h=Math.max(a.x,c.x),b=Math.max(a.y,c.y),f=Math.min(a.x+a.width,c.x+c.width),y=Math.min(a.y+a.height,c.y+c.height);if(f<=h||y<=b)return 0;const k=(f-h)*(y-b),S=c.width*c.height;return S>0?k/S:0}function T(a,c){const h=E(a,c),b=c.width*c.height,f=a.width*a.height;return b<=f*2?h>.1:h>=.3}function V(a){return a.querySelectorAll("*").length+1}function D(a,c){const h=c?document.elementFromPoint(c.x,c.y):null;if(h&&!P(h)&&!M(h)){const b=O(h,a);if(b){const f=b.getBoundingClientRect(),{name:y,path:k}=ee(b),S=V(b);return{elements:[{name:y,path:k}],boundingBox:{x:f.left,y:f.top,width:f.width,height:f.height},totalElementCount:S}}}return Y(a)}function O(a,c){let h=a,b=null;for(;h&&!M(h);){if(P(h)){h=h.parentElement;continue}const f=h.getBoundingClientRect();if(f.width<2||f.height<2){h=h.parentElement;continue}if(s(f))break;const y={x:f.left,y:f.top,width:f.width,height:f.height};if(T(c,y))b=h;else if(b!==null)break;h=h.parentElement}return b}function Y(a){const c=new Set,h=document.querySelectorAll("*"),b=[];h.forEach($=>{const A=$;if(P(A)||M(A))return;const B=A.getBoundingClientRect();B.width<2||B.height<2||s(B)||_(a,{x:B.left,y:B.top,width:B.width,height:B.height})&&b.push({element:A,rect:B})});const f=new Set(b.map($=>$.element)),y=[];b.forEach(({element:$,rect:A})=>{let B=!1;if(f.forEach(Z=>{$.contains(Z)&&$!==Z&&(B=!0)}),B)return;const{name:z,path:F}=ee($);c.has(F)||(c.add(F),y.push({element:{name:z,path:F},rect:A,htmlElement:$}))});let k=null;if(y.length>0){let $=1/0,A=1/0,B=-1/0,z=-1/0;y.forEach(({rect:F})=>{$=Math.min($,F.left),A=Math.min(A,F.top),B=Math.max(B,F.right),z=Math.max(z,F.bottom)}),k={x:$,y:A,width:B-$,height:z-A}}let S=0;return y.forEach(({htmlElement:$})=>{S+=V($)}),{elements:y.map($=>$.element),boundingBox:k,totalElementCount:S}}function K(a,c){const h=Math.min(a.x,c.x),b=Math.min(a.y,c.y),f=Math.abs(c.x-a.x),y=Math.abs(c.y-a.y);return{x:h,y:b,width:f,height:y}}function W(a){if(a.button!==0)return;const c=a.target;P(c)||(a.preventDefault(),p.value={x:a.clientX,y:a.clientY},C.value=!1,w.value=null,N.value=[])}function R(a){var h,b,f,y;const c={x:a.clientX,y:a.clientY};if(u.value=c,p.value){const k=K(p.value,c);if(!C.value){const S=document.querySelectorAll("*");let $=!1;S.forEach(A=>{if($)return;const B=A;if(P(B))return;const z=B.getBoundingClientRect();_(k,{x:z.left,y:z.top,width:z.width,height:z.height})&&(k.width>5||k.height>5)&&($=!0)}),$&&(C.value=!0,o.value=null,i.value=null,r.value=null,(h=t.onHoverChange)==null||h.call(t,null))}if(C.value){a.preventDefault(),w.value=k;const S=D(k,c);N.value=S.elements,H.value=S.boundingBox,(b=t.onMarqueeChange)==null||b.call(t,k,S.boundingBox,S.elements);return}}if(!C.value){const k=a.target;if(P(k)){o.value=null,i.value=null,r.value=null,(f=t.onHoverChange)==null||f.call(t,null);return}if(k!==o.value){o.value=k;const S=k.getBoundingClientRect();i.value=S;const{name:$,path:A}=ee(k),B={element:k,name:$,path:A,rect:S};r.value=B,(y=t.onHoverChange)==null||y.call(t,B)}}}function G(a){if(a.button!==0)return;const c=a.target;if(C.value&&w.value){a.preventDefault(),a.stopPropagation();const h={x:a.clientX,y:a.clientY},b=D(w.value,h);if(b.elements.length===0){I();return}const f=b.elements,y=b.boundingBox||w.value,k=b.totalElementCount,S=window.innerWidth,$=window.scrollY,A=a.clientX,B=a.clientY,z=f.length===1?k:f.length,F=f.length===1?k>1?`${f[0].name} (${k} elements)`:f[0].name:`${z} elements: ${f.slice(0,3).map(J=>J.name).join(", ")}${f.length>3?` +${f.length-3} more`:""}`,Z={x:A/S*100,y:B+$,element:F,elementPath:f.map(J=>J.path).join(", "),isMultiSelect:!0,elements:f,totalElementCount:k,groupBoundingBox:{x:y.x,y:y.y+$,width:y.width,height:y.height},boundingBox:{x:y.x,y:y.y+$,width:y.width,height:y.height}};g(),t.onSelect(Z,null)}else if(p.value&&!C.value){if(P(c)){I();return}a.preventDefault(),a.stopPropagation();const{name:h,path:b}=ee(c),f=c.getBoundingClientRect(),y=window.innerWidth,k=window.scrollY,S=Ce(c),$={x:a.clientX/y*100,y:S?a.clientY:a.clientY+k,element:h,elementPath:b,boundingBox:{x:f.left,y:S?f.top:f.top+k,width:f.width,height:f.height},nearbyText:be(c),nearbyElements:we(c),cssClasses:ke(c),computedStyles:Ee(c),fullPath:xe(c),accessibility:$e(c),isFixed:S,isMultiSelect:!1};g(),t.onSelect($,c)}I()}function I(){var a;p.value=null,C.value=!1,w.value=null,N.value=[],H.value=null,(a=t.onMarqueeChange)==null||a.call(t,null,null,[])}function U(a){a.key==="Escape"&&g()}function l(){n.value||(n.value=!0,document.addEventListener("mousedown",W,{capture:!0}),document.addEventListener("mousemove",R,{capture:!0}),document.addEventListener("mouseup",G,{capture:!0}),document.addEventListener("keydown",U),document.body.style.cursor="crosshair")}function g(){var a;n.value&&(n.value=!1,o.value=null,i.value=null,r.value=null,u.value=null,I(),document.removeEventListener("mousedown",W,{capture:!0}),document.removeEventListener("mousemove",R,{capture:!0}),document.removeEventListener("mouseup",G,{capture:!0}),document.removeEventListener("keydown",U),document.body.style.cursor="",(a=t.onHoverChange)==null||a.call(t,null))}function L(){n.value?g():l()}return e.onUnmounted(()=>{n.value&&g()}),{isActive:e.readonly(n),isMarqueeMode:e.readonly(q),hoveredElement:e.readonly(o),highlightBox:e.readonly(i),elementInfo:e.readonly(r),cursorPosition:e.readonly(u),marqueeBox:e.readonly(w),selectedElements:e.readonly(N),start:l,stop:g,toggle:L}}const lt="agentation-animation-freeze",ue="--agentation-animation-state";function Be(){const t=e.ref(!1);let n=null;function o(){t.value||(document.documentElement.style.setProperty(ue,"paused"),n||(n=document.createElement("style"),n.id=lt,n.textContent=`
        *,
        *::before,
        *::after {
          animation-play-state: var(${ue}, running) !important;
        }
      `,document.head.appendChild(n)),document.querySelectorAll("video").forEach(u=>{u.paused||(u.dataset.agentationWasPlaying="true",u.pause())}),t.value=!0)}function i(){t.value&&(document.documentElement.style.removeProperty(ue),n&&n.parentNode&&(n.parentNode.removeChild(n),n=null),document.querySelectorAll("video[data-agentation-was-playing]").forEach(u=>{delete u.dataset.agentationWasPlaying,u.play().catch(()=>{})}),t.value=!1)}function r(){t.value?i():o()}return e.onUnmounted(()=>{t.value&&i()}),{isPaused:e.readonly(t),pause:o,resume:i,toggle:r}}function _e(){const t=e.ref(!1);function n(){const r=he();r?t.value=r==="dark":typeof window<"u"&&(t.value=window.matchMedia("(prefers-color-scheme: dark)").matches)}function o(){t.value=!t.value,ce(t.value?"dark":"light")}function i(r){t.value=r,ce(r?"dark":"light")}return e.onMounted(()=>{n()}),{isDark:e.readonly(t),toggle:o,set:i,initialize:n}}function Ae(t,n="standard"){if(t.length===0)return"No annotations to display.";const o=["# Page Annotations","",`Generated: ${new Date().toISOString()}`,`URL: ${typeof window<"u"?window.location.href:"N/A"}`,"","---",""];return t.forEach((i,r)=>{if(i.isMultiSelect&&i.elements&&i.elements.length>0){const u=i.totalElementCount??i.elements.length,p=4,C=i.elements.slice(0,p),w=i.elements.length-p,N=C.map(q=>q.name).join(", "),H=w>0?` +${w} more`:"";o.push(`## ${r+1}. ${u} elements: ${N}${H}`),o.push(""),o.push("**Location:** multi-select"),o.push(""),o.push(`**Feedback:** ${i.comment}`),o.push(""),o.push("---"),o.push("");return}if(o.push(`## ${r+1}. ${i.element}`),o.push(""),o.push(`**Comment:** ${i.comment}`),o.push(""),o.push(`**Selector:** \`${i.elementPath}\``),o.push(""),o.push(`**Position:** x=${i.x.toFixed(1)}%, y=${i.y.toFixed(0)}px`),o.push(""),i.selectedText&&(o.push(`**Selected Text:** "${i.selectedText}"`),o.push("")),i.boundingBox){const u=i.boundingBox;o.push(`**Bounding Box:** x=${u.x.toFixed(0)}, y=${u.y.toFixed(0)}, w=${u.width.toFixed(0)}, h=${u.height.toFixed(0)}`),o.push("")}n!=="compact"&&(i.nearbyText&&(o.push(`**Nearby Text:** ${i.nearbyText}`),o.push("")),i.cssClasses&&(o.push(`**CSS Classes:** \`${i.cssClasses}\``),o.push(""))),(n==="detailed"||n==="forensic")&&(i.nearbyElements&&(o.push(`**Nearby Elements:** ${i.nearbyElements}`),o.push("")),i.accessibility&&(o.push(`**Accessibility:** ${i.accessibility}`),o.push(""))),n==="forensic"&&(i.fullPath&&(o.push(`**Full Path:** \`${i.fullPath}\``),o.push("")),i.computedStyles&&(o.push("**Computed Styles:**"),o.push("```css"),o.push(i.computedStyles),o.push("```"),o.push(""))),o.push("---"),o.push("")}),o.join(`
`)}function at(t){return[`[${t.element}]`,t.comment,`(${t.elementPath})`].join(" ")}const rt=["aria-pressed"],st=["aria-pressed","title"],ct={key:0,class:"agentation-toolbar__icon",fill:"currentColor",viewBox:"0 0 24 24"},ut={key:1,class:"agentation-toolbar__icon",fill:"currentColor",viewBox:"0 0 24 24"},dt=["disabled","title"],mt={key:0,class:"agentation-toolbar__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ft={key:1,class:"agentation-toolbar__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},pt={key:2,class:"agentation-toolbar__badge"},ht=["disabled"],gt=["title"],yt={key:0,class:"agentation-toolbar__icon",fill:"currentColor",viewBox:"0 0 24 24"},xt={key:1,class:"agentation-toolbar__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},bt={style:{position:"absolute",inset:"0","z-index":"99998","pointer-events":"none"},"data-agentation-ignore":""},de="#3b82f6",le=4,wt=e.defineComponent({__name:"Agentation",emits:["annotation-add","annotation-delete","annotation-update","annotations-clear","copy"],setup(t,{emit:n}){const o=n,{annotations:i,pendingAnnotation:r,editingAnnotationId:u,count:p,isEmpty:C,initialize:w,switchPath:N,add:H,remove:q,update:j,clear:P,setPending:_,setEditing:M,getById:s}=ge(),{isPaused:E,toggle:T}=Be(),{isDark:V,toggle:D}=_e(),O=e.ref(!1),Y=e.ref(null),K=e.ref(!1),W=e.ref(null),R=e.ref(null),G=e.ref([]),I=e.ref(null),U=e.ref(0),l=e.computed(()=>{if(r.value)return r.value.x/100*(typeof window<"u"?window.innerWidth:0);if(u.value){const d=s(u.value);return d?d.x/100*(typeof window<"u"?window.innerWidth:0):0}return 0}),g=e.computed(()=>{if(r.value){const d=typeof window<"u"?window.scrollY:0;return r.value.isFixed?r.value.y:r.value.y-d}else if(u.value){const d=s(u.value);if(!d)return 0;const m=typeof window<"u"?window.scrollY:0;return d.isFixed?d.y:d.y-m}return 0}),L=e.computed(()=>{if(r.value)return{element:r.value.element,selectedText:r.value.selectedText,computedStyles:r.value.computedStyles,initialValue:"",submitLabel:"Add",isMultiSelect:r.value.isMultiSelect||!1};if(u.value){const d=s(u.value);if(d)return{element:d.element,selectedText:d.selectedText,computedStyles:d.computedStyles,initialValue:d.comment,submitLabel:"Update",isMultiSelect:d.isMultiSelect||!1}}return null}),a=e.computed(()=>I.value?{left:`${I.value.x}px`,top:`${I.value.y-U.value}px`,width:`${I.value.width}px`,height:`${I.value.height}px`}:null);function c(){U.value=window.scrollY}const h=e.computed(()=>Y.value?s(Y.value):null),b=e.computed(()=>{if(!h.value)return null;const d=h.value,m=d.isMultiSelect&&d.groupBoundingBox?d.groupBoundingBox:d.boundingBox;return m?{left:`${m.x}px`,top:`${m.y-(d.isFixed?0:U.value)}px`,width:`${m.width}px`,height:`${m.height}px`}:null}),f=e.computed(()=>{if(!A.value)return{};const d=typeof window<"u"?window.innerWidth:1e3,m=150,Q=32;let v=A.value.x+le,X=A.value.y-Q-le;return v+m>d&&(v=A.value.x-m-le),X<0&&(X=A.value.y+le),{left:`${v}px`,top:`${X}px`}}),{isActive:y,isMarqueeMode:k,highlightBox:S,elementInfo:$,cursorPosition:A,toggle:B}=Se({onSelect:d=>{_(d),M(null),d.isMultiSelect&&d.groupBoundingBox?I.value=d.groupBoundingBox:I.value=null,O.value=!0},onHoverChange:()=>{},onMarqueeChange:(d,m,Q)=>{W.value=d,R.value=m,G.value=Q}}),z=e.ref(ne());let F=null;function Z(){const d=ne();d!==z.value&&(z.value=d,N(d))}function J(){Z(),F=requestAnimationFrame(J)}e.onMounted(()=>{if(typeof window<"u"){const d=ne();z.value=d,w(d),F=requestAnimationFrame(J),U.value=window.scrollY,window.addEventListener("scroll",c,{passive:!0})}}),e.onUnmounted(()=>{F!==null&&(cancelAnimationFrame(F),F=null),typeof window<"u"&&window.removeEventListener("scroll",c)});function kt(d){if(r.value){const m=H(r.value,d);O.value=!1,I.value=null,o("annotation-add",m)}else if(u.value){const m=j(u.value,d);O.value=!1,M(null),I.value=null,m&&o("annotation-update",m)}}function Et(){O.value=!1,_(null),M(null),I.value=null}function ve(d){const m=q(d.id);m&&o("annotation-delete",m)}function Ne(d){_(null),M(d.id),O.value=!0}function $t(){i.value.length!==0&&confirm("Clear all annotations?")&&(P(),o("annotations-clear"))}async function Ct(){const d=Ae([...i.value]);try{await navigator.clipboard.writeText(d),K.value=!0,setTimeout(()=>{K.value=!1},2e3)}catch{console.log(d)}o("copy",d)}function Me(d){console.log("Marker clicked:",d)}return(d,m)=>{var Q;return e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createElementVNode("div",{class:e.normalizeClass(["agentation-toolbar",e.unref(V)?"agentation-toolbar--dark":""]),"data-agentation-ignore":"",role:"toolbar","aria-label":"Agentation annotation tools"},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["agentation-toolbar__button",e.unref(y)&&"agentation-toolbar__button--active"]),"aria-pressed":e.unref(y),title:"Select element to annotate",onClick:m[0]||(m[0]=(...v)=>e.unref(B)&&e.unref(B)(...v))},[...m[5]||(m[5]=[e.createElementVNode("svg",{class:"agentation-toolbar__icon",fill:"currentColor",viewBox:"0 0 24 24"},[e.createElementVNode("path",{d:"M4 4l7.07 17 2.51-7.39L21 11.07 4 4zm9.33 8.33l-1.62 4.79L6.27 6.27l10.85 5.06-3.79 1z"})],-1)])],10,rt),e.createElementVNode("button",{type:"button",class:e.normalizeClass(["agentation-toolbar__button",e.unref(E)&&"agentation-toolbar__button--paused"]),"aria-pressed":e.unref(E),title:e.unref(E)?"Resume animations":"Pause animations",onClick:m[1]||(m[1]=(...v)=>e.unref(T)&&e.unref(T)(...v))},[e.unref(E)?(e.openBlock(),e.createElementBlock("svg",ct,[...m[6]||(m[6]=[e.createElementVNode("path",{d:"M8 5v14l11-7z"},null,-1)])])):(e.openBlock(),e.createElementBlock("svg",ut,[...m[7]||(m[7]=[e.createElementVNode("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"},null,-1)])]))],10,st),m[13]||(m[13]=e.createElementVNode("div",{class:"agentation-toolbar__divider"},null,-1)),e.createElementVNode("button",{type:"button",class:e.normalizeClass(["agentation-toolbar__button",K.value&&"agentation-toolbar__button--success"]),disabled:e.unref(C),title:`Copy ${e.unref(p)} annotation(s) as markdown`,onClick:Ct},[K.value?(e.openBlock(),e.createElementBlock("svg",mt,[...m[8]||(m[8]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):(e.openBlock(),e.createElementBlock("svg",ft,[...m[9]||(m[9]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"},null,-1)])])),e.unref(p)>0?(e.openBlock(),e.createElementBlock("span",pt,e.toDisplayString(e.unref(p)),1)):e.createCommentVNode("",!0)],10,dt),e.createElementVNode("button",{type:"button",class:"agentation-toolbar__button",disabled:e.unref(C),title:"Clear all annotations",onClick:$t},[...m[10]||(m[10]=[e.createElementVNode("svg",{class:"agentation-toolbar__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,ht),m[14]||(m[14]=e.createElementVNode("div",{class:"agentation-toolbar__divider"},null,-1)),e.createElementVNode("button",{type:"button",class:"agentation-toolbar__button",title:e.unref(V)?"Switch to light mode":"Switch to dark mode",onClick:m[2]||(m[2]=(...v)=>e.unref(D)&&e.unref(D)(...v))},[e.unref(V)?(e.openBlock(),e.createElementBlock("svg",yt,[...m[11]||(m[11]=[e.createElementVNode("path",{d:"M12 3a9 9 0 109 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 01-4.4 2.26 5.403 5.403 0 01-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},null,-1)])])):(e.openBlock(),e.createElementBlock("svg",xt,[...m[12]||(m[12]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])]))],8,gt)],2),e.unref(y)&&e.unref(S)&&!e.unref(k)?(e.openBlock(),e.createElementBlock("div",{key:0,class:"agentation-highlight",style:e.normalizeStyle({left:`${e.unref(S).left}px`,top:`${e.unref(S).top}px`,width:`${e.unref(S).width}px`,height:`${e.unref(S).height}px`}),"data-agentation-ignore":""},null,4)):e.createCommentVNode("",!0),e.unref(y)&&e.unref($)&&e.unref(A)&&!e.unref(k)?(e.openBlock(),e.createElementBlock("div",{key:1,class:"agentation-highlight__tooltip",style:e.normalizeStyle(f.value),"data-agentation-ignore":""},e.toDisplayString(e.unref($).name),5)):e.createCommentVNode("",!0),e.unref(y)&&e.unref(k)&&W.value?(e.openBlock(),e.createElementBlock("div",{key:2,class:"agentation-marquee",style:e.normalizeStyle({left:`${W.value.x}px`,top:`${W.value.y}px`,width:`${W.value.width}px`,height:`${W.value.height}px`}),"data-agentation-ignore":""},null,4)):e.createCommentVNode("",!0),e.unref(y)&&e.unref(k)&&R.value?(e.openBlock(),e.createElementBlock("div",{key:3,class:"agentation-marquee",style:e.normalizeStyle({left:`${R.value.x}px`,top:`${R.value.y}px`,width:`${R.value.width}px`,height:`${R.value.height}px`}),"data-agentation-ignore":""},null,4)):e.createCommentVNode("",!0),I.value&&O.value&&a.value?(e.openBlock(),e.createElementBlock("div",{key:4,class:"agentation-group-highlight",style:e.normalizeStyle(a.value),"data-agentation-ignore":""},null,4)):e.createCommentVNode("",!0),Y.value&&b.value?(e.openBlock(),e.createElementBlock("div",{key:5,class:e.normalizeClass(["agentation-element-highlight",(Q=h.value)!=null&&Q.isMultiSelect?"agentation-element-highlight--group":"agentation-element-highlight--single"]),style:e.normalizeStyle(b.value),"data-agentation-ignore":""},null,6)):e.createCommentVNode("",!0),e.createElementVNode("div",bt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(i).filter(v=>!v.isFixed),(v,X)=>(e.openBlock(),e.createBlock(re,{key:v.id,annotation:v,index:X,dark:e.unref(V),"accent-color":de,"is-hovered":Y.value===v.id,style:{"pointer-events":"auto"},onClick:Me,onEdit:Ne,onDelete:ve,onMouseenter:St=>Y.value=v.id,onMouseleave:m[3]||(m[3]=St=>Y.value=null)},null,8,["annotation","index","dark","is-hovered","onMouseenter"]))),128))]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(i).filter(v=>v.isFixed),v=>(e.openBlock(),e.createBlock(re,{key:v.id,annotation:v,index:e.unref(i).findIndex(X=>X.id===v.id),dark:e.unref(V),"accent-color":de,"is-hovered":Y.value===v.id,onClick:Me,onEdit:Ne,onDelete:ve,onMouseenter:X=>Y.value=v.id,onMouseleave:m[4]||(m[4]=X=>Y.value=null)},null,8,["annotation","index","dark","is-hovered","onMouseenter"]))),128)),O.value&&L.value?(e.openBlock(),e.createBlock(me,{key:6,element:L.value.element,x:l.value,y:g.value,"selected-text":L.value.selectedText,"computed-styles":L.value.computedStyles,"initial-value":L.value.initialValue,"submit-label":L.value.submitLabel,dark:e.unref(V),"accent-color":de,"is-multi-select":L.value.isMultiSelect,onSubmit:kt,onCancel:Et},null,8,["element","x","y","selected-text","computed-styles","initial-value","submit-label","dark","is-multi-select"])):e.createCommentVNode("",!0)])}}});x.Agentation=wt,x.AnnotationMarker=re,x.AnnotationPopup=me,x.clearAnnotations=pe,x.generateAnnotationSummary=at,x.generateMarkdown=Ae,x.getAccessibilityInfo=$e,x.getCurrentRoutePath=ne,x.getDetailedComputedStyles=Ee,x.getElementClasses=ke,x.getElementPath=ye,x.getForensicComputedStyles=it,x.getFullElementPath=xe,x.getNearbyElements=we,x.getNearbyText=be,x.getStorageKey=te,x.identifyAnimationElement=ot,x.identifyElement=ee,x.isElementFixed=Ce,x.loadAnnotations=se,x.loadSettings=Qe,x.loadTheme=he,x.resetAnnotations=nt,x.saveAnnotations=oe,x.saveSettings=et,x.saveTheme=ce,x.selectionThemes=ae,x.useAnimationPause=Be,x.useAnnotations=ge,x.useElementSelection=Se,x.useTheme=_e,Object.defineProperty(x,Symbol.toStringTag,{value:"Module"})}));
